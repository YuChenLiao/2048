<!DOCTYPE html>

<head>
  <link rel="stylesheet" type="text/css" href="./2048.css">
</head>

<body>
  <div class="main" id="box">
    <div class="blocks"></div>
  </div>
</body>

<script type="text/javascript">
  let initData = [[],[],[],[]]
  window.onload = function () {
    let content = ""
    for(let i=0;i<4;i++)
      for(let j=0;j<4;j++)
        initData[i][j] = "&nbsp"
    let flag = false
    while(!flag) {
      let x1=parseInt(Math.random()*4,10)
      let y1=parseInt(Math.random()*4,10)
      let x2=parseInt(Math.random()*4,10)
      let y2=parseInt(Math.random()*4,10)
      if(x1 !== x2 || y1 !== y2) {
        flag = true
        initData[x1][y1] = 2
        initData[x2][y2] = 2
      }
    }
    for(let i=0;i<4;i++)
      for(let j=0;j<4;j++) {
        if(initData[i][j] === '&nbsp')
          content += "<div class='blocks'"+"id=cell_"+i+j+">"+initData[i][j]+"</div>"
        else
          content += "<div class='blocks2'"+"id=cell_"+i+j+">"+initData[i][j]+"</div>"
      }
    document.getElementById("box").innerHTML = content
  }
</script>

</html>